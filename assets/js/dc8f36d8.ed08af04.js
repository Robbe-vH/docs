"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6863],{48418:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var r=i(85893),t=i(11151);const a={sidebar_label:"SAML Provider"},o="SAML provider",s={id:"reportportal-configuration/authorization/SAMLProvider/index",title:"SAML provider",description:"If you have a pre-created Internal user, you can't log in by SAML using their credentials (Email or Name).",source:"@site/docs/reportportal-configuration/authorization/SAMLProvider/index.mdx",sourceDirName:"reportportal-configuration/authorization/SAMLProvider",slug:"/reportportal-configuration/authorization/SAMLProvider/",permalink:"/docs/reportportal-configuration/authorization/SAMLProvider/",draft:!1,unlisted:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/reportportal-configuration/authorization/SAMLProvider/index.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"SAML Provider"},sidebar:"docs",previous:{title:"LDAP",permalink:"/docs/reportportal-configuration/authorization/LDAP"},next:{title:"Azure SAML",permalink:"/docs/reportportal-configuration/authorization/SAMLProvider/AzureSAML"}},l={},d=[{value:"SAML provider requirements",id:"saml-provider-requirements",level:2},{value:"Add integration",id:"add-integration",level:2},{value:"Set up connection",id:"set-up-connection",level:2},{value:"Identity provider configuration",id:"identity-provider-configuration",level:3},{value:"ReportPortal SSO initial URL",id:"reportportal-sso-initial-url",level:4},{value:"Identifier",id:"identifier",level:4},{value:"Custom attribute as claims in token",id:"custom-attribute-as-claims-in-token",level:4},{value:"ReportPortal configuration",id:"reportportal-configuration",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components},{MediaViewer:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MediaViewer",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"saml-provider",children:"SAML provider"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"If you have a pre-created Internal user, you can't log in by SAML using their credentials (Email or Name)."})})}),"\n",(0,r.jsx)(n.p,{children:"This plugin allows you to configure a connection with a SAML provider."}),"\n",(0,r.jsx)(n.p,{children:"Integration with SAML will allow you to login into ReportPortal using SSO instead of tedious manual user creation."}),"\n",(0,r.jsx)(n.p,{children:"The plugin provides a mechanism to exchange information between ReportPortal and SAML provider, such as the possibility to login to ReportPortal with SAML credentials."}),"\n",(0,r.jsx)(n.h2,{id:"saml-provider-requirements",children:"SAML provider requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SAML 2.0 version"}),"\n",(0,r.jsx)(n.li,{children:"HTTP-POST Binding"}),"\n",(0,r.jsxs)(n.li,{children:["URL to download ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/SAML_metadata#Identity_provider_metadata",children:"SAML IdP Metadata"})]}),"\n",(0,r.jsx)(n.li,{children:"HTTPS connection for SAML Metadata"}),"\n",(0,r.jsxs)(n.li,{children:["Support SAML attributes:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"email"}),"\n",(0,r.jsx)(n.li,{children:"first name"}),"\n",(0,r.jsx)(n.li,{children:"last name"}),"\n",(0,r.jsx)(n.li,{children:"full name (instead first and last name)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["There are detailed manuals for configuration of ",(0,r.jsx)(n.a,{href:"/reportportal-configuration/authorization/SAMLProvider/",children:"Azure SAML"})," and ",(0,r.jsx)(n.a,{href:"/reportportal-configuration/authorization/SAMLProvider/OktaSAML",children:"Okta SAML"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"add-integration",children:"Add integration"}),"\n",(0,r.jsx)(n.p,{children:"ReportPortal contains the SAML Plugin by default."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.code,{children:"Administration"})," -> ",(0,r.jsx)(n.code,{children:"Plugins"})," -> ",(0,r.jsx)(n.code,{children:"SAML"})]}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.code,{children:"Add integration"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"set-up-connection",children:"Set up connection"}),"\n",(0,r.jsx)(n.h3,{id:"identity-provider-configuration",children:"Identity provider configuration"}),"\n",(0,r.jsx)(n.h4,{id:"reportportal-sso-initial-url",children:"ReportPortal SSO initial URL"}),"\n",(0,r.jsx)(n.p,{children:"You need to provide a URL for a SAML Provider to deliver SAML data for the identity federation."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-url",children:"https://<host>/uat/saml/sp/SSO/alias/report-portal-sp\n"})}),"\n",(0,r.jsx)(n.h4,{id:"identifier",children:"Identifier"}),"\n",(0,r.jsxs)(n.p,{children:["Set up identifier (aka Audience Restriction, aka Entity ID) for application as ",(0,r.jsx)(n.code,{children:"report.portal.sp.id"}),".\nYou can specify personal Entity id when you deploy the Authorization service by environment variable ",(0,r.jsx)(n.code,{children:"RP_AUTH_SAML_ENTITYID"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"custom-attribute-as-claims-in-token",children:"Custom attribute as claims in token"}),"\n",(0,r.jsx)(n.p,{children:"The IDp app user profile must provide attributes like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"- user.email\n- user.firstName\n- user.lastName\n"})}),"\n",(0,r.jsx)(n.p,{children:"Also, Make sure there is a mapping created according to the values that you use in the ReportPortal SAML plugin like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"- user.email -> Email\n- user.firstName -> FirstName\n- user.lastName -> LastName\n"})}),"\n",(0,r.jsx)(n.h3,{id:"reportportal-configuration",children:"ReportPortal configuration"}),"\n",(0,r.jsx)(a,{src:i(62163),alt:"SAML plugin configuration to integrate with our qa automation dashboard"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Identity provider name ID (Optional)"})})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Identity provider name ID"})," (aka name identifier formats) controls how the users at identity providers are mapped to users at service providers."]}),"\n",(0,r.jsx)(n.p,{children:"We support next formats:"}),"\n",(0,r.jsx)(n.p,{children:"UNSPECIFIED - used by default"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-urn",children:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\n"})}),"\n",(0,r.jsx)(n.p,{children:"EMAIL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-urn",children:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\n"})}),"\n",(0,r.jsx)(n.p,{children:"PERSISTENT"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-urn",children:"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Provider name"})})," - Provider name associated with IDP."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Metadata URL"})})," - URL that provides data with information about SAML Provider."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Email"})})," - Attribute name from SAML metadata which contains an user email."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<saml:Attribute Name="Email" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n   <saml:AttributeValue xsi:type="xs:string">neuromancer@cyberspace.net</saml:AttributeValue>\n </saml:Attribute>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"ReportPortal Callback URL (Optional)"})})," - This field provides a redirect base path."]}),"\n",(0,r.jsx)(n.p,{children:"Once you have submitted an integration with \u201cRP callback URL\u201d, the URL will be applied to all SAML integrations."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-url",children:"https://<host>/uat\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"First name"})})," - Attribute name from SAML metadata which contains an user first/given name."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<saml:Attribute Name="FirstName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">William</saml:AttributeValue>\n</saml:Attribute>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Last name"})})," - Attribute name from SAML metadata which contains an user last/family name."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<saml:Attribute Name="LastName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">Gibson</saml:AttributeValue>\n</saml:Attribute>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Full name"})})," - Attribute name from SAML metadata which contains a full user name. You can use either two separate attributes for first name and last name or a combined first and last name attribute. This solely depends on your SAML provider."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<saml:Attribute Name="FullName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">William Gibson</saml:AttributeValue>\n</saml:Attribute>\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},62163:(e,n,i)=>{i.r(n),i.d(n,{default:()=>r});const r=i.p+"assets/images/SAMLPlugin-6444da5543c5fcdb3a7fdd0d5013136d.png"},11151:(e,n,i)=>{i.d(n,{Z:()=>s,a:()=>o});var r=i(67294);const t={},a=r.createContext(t);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);